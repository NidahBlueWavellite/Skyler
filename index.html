<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Skyler Novel</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">

<!-- PDF.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
pdfjsLib.GlobalWorkerOptions.workerSrc = 
  "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
</script>

<style>
body {
  margin:0;
  font-family:'Roboto Slab', serif;
  color:#001f4d;
  background: linear-gradient(120deg,#E0FFFF 0%,#89CFF0 12%,#87CEEB 25%,#6495ED 38%,#00BFFF 50%,#0096FF 62%,#4fd1c5 72%,#191970 85%,#E0FFFF 100%);
  background-size: 300% 300%;
  animation: chiffonFlow 80s ease-in-out infinite;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:28px 16px;
}

@keyframes chiffonFlow {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}

.wrapper {
  width:100%;
  max-width:920px;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px;
}

header h1 {
  color: #001f4d;
  text-align:center;
  margin:0 0 20px 0;
}

#novel-title .title-line1 { font-size:3rem; display:block; }
#novel-title .title-line2 { font-size:2rem; display:block; }

.cover img {
  max-width:600px;
  width:100%;
  border-radius:10px;
  margin-bottom:20px;
}

.description{
  max-width:760px;
  text-align:center;
  color:#001f4d;
  font-size:1.05rem;
  line-height:1.5;
  margin-bottom:18px;
}

.meta-row{
  display:flex;
  flex-direction: column;
  align-items: center;
  gap:12px;
  width:100%;
  max-width:760px;
  margin-bottom:20px;
}

.genre{
  padding:10px 14px;
  border-radius:8px;
  background: rgba(255,255,255,0.06);
  color:#001f4d;
  font-weight:700;
  text-align:center;
}

.download button{
  padding:12px 28px;
  border-radius:8px;
  background: rgba(255,255,255,0.9);
  color:#001f4d;
  border:none;
  font-weight:700;
  cursor:pointer;
  transition:0.3s;
}

.download button:hover{
  background:#ffffff;
  transform:scale(1.03);
}

/* PDF Viewer */
#pdfViewerContainer {
  position: fixed;
  top:0;
  left:0;
  width:100vw;
  height:100vh;
  background:#0b2740;
  z-index:9999;
  display:none;
  flex-direction:column;
  align-items:center;
  overflow-y:auto;
  padding:16px;
}

#pdfControls {
  display:flex;
  justify-content:center;
  gap:6px;
  margin-bottom:12px;
}

#pdfControls input[type=number]{ width:50px; }
#pdfControls button { padding:6px 10px; cursor:pointer; border-radius:6px; border:none; background:#ffffff; color:#0b2740; font-weight:600; }

#closePdfBtn {
  position:absolute;
  top:10px;
  right:10px;
  padding:8px 12px;
  border:none;
  border-radius:6px;
  background:#ffffff;
  color:#0b2740;
  font-weight:600;
  cursor:pointer;
}

#pdfViewerContainer canvas {
  display:block;
  margin: 12px 0;
  max-width:100%;
  border-radius:6px;
}

@media(max-width:520px){
  #novel-title .title-line1 { font-size:2rem; }
  #novel-title .title-line2 { font-size:1.5rem; }
  .cover img{ max-width:260px; }
}
</style>
</head>
<body>
<div class="wrapper">
  <header>
    <h1 id="novel-title">
      <span class="title-line1">Skyler,</span>
      <span class="title-line2">I wish to breathe another season</span>
    </h1>
  </header>

  <div class="cover">
    <img src="Skyler.png" alt="Skyler cover image" loading="lazy">
  </div>

  <div class="description">
    Nova, a girl who prefers solitude, unexpectedly meets a friend who draws her into new experiences. Through fleeting days and quiet moments, she gradually rediscovers the sources of hope, connection, and the simple joys that give life its breath. A nature-infused journey of friendship, resilience, and self-discovery.
  </div>

  <div class="meta-row">
    <div class="genre">
      Genre: Slice of Life, Literary Fiction, Nature-Inspired, Personal Journey
    </div>
    <div class="download">
      <button id="openPdfBtn">Read Now</button>
    </div>
  </div>
</div>

<!-- Full-screen PDF Viewer -->
<div id="pdfViewerContainer">
  <button id="closePdfBtn">X</button>
  <div id="pdfControls">
    <button id="zoomOut">-</button>
    <button id="zoomIn">+</button>
    <input type="number" id="gotoPage" value="1" min="1">
    / <span id="totalPages">?</span>
    <button id="goPage">Go</button>
  </div>
  <!-- Canvases will be appended here -->
</div>

<script>
const pdfUrl = "YOUR_PDF_RAW_URL_HERE"; // <-- Replace with your raw PDF URL
const pdfContainer = document.getElementById("pdfViewerContainer");
const openPdfBtn = document.getElementById("openPdfBtn");
const closePdfBtn = document.getElementById("closePdfBtn");
const zoomInBtn = document.getElementById("zoomIn");
const zoomOutBtn = document.getElementById("zoomOut");
const gotoInput = document.getElementById("gotoPage");
const goPageBtn = document.getElementById("goPage");
const totalPagesSpan = document.getElementById("totalPages");

let pdfDoc = null;
let scale = 1.2;
let canvases = [];

async function renderPDF() {
  pdfContainer.scrollTop = 0;
  pdfContainer.innerHTML = `
    <button id="closePdfBtn">X</button>
    <div id="pdfControls">
      <button id="zoomOut">-</button>
      <button id="zoomIn">+</button>
      <input type="number" id="gotoPage" value="1" min="1">
      / <span id="totalPages">?</span>
      <button id="goPage">Go</button>
    </div>
  `;

  canvases = [];
  for (let i = 1; i <= pdfDoc.numPages; i++) {
    const page = await pdfDoc.getPage(i);
    const viewport = page.getViewport({ scale });
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = viewport.width;
    canvas.height = viewport.height;
    await page.render({ canvasContext: ctx, viewport }).promise;
    pdfContainer.appendChild(canvas);
    canvases.push(canvas);
  }

  // Update total pages
  totalPagesSpan.textContent = pdfDoc.numPages;

  // Reattach controls event listeners
  document.getElementById("zoomIn").addEventListener("click", () => { scale *= 1.1; renderPDF(); });
  document.getElementById("zoomOut").addEventListener("click", () => { scale /= 1.1; renderPDF(); });
  document.getElementById("goPage").addEventListener("click", () => {
    const pageNum = parseInt(document.getElementById("gotoPage").value);
    if(pageNum >= 1 && pageNum <= pdfDoc.numPages) {
      const targetCanvas = canvases[pageNum - 1];
      if(targetCanvas) targetCanvas.scrollIntoView({behavior:'smooth'});
    }
  });
}

openPdfBtn.addEventListener("click", async () => {
  pdfContainer.style.display = "flex";
  if(!pdfDoc) pdfDoc = await pdfjsLib.getDocument(pdfUrl).promise;
  await renderPDF();
});

closePdfBtn.addEventListener("click", () => {
  pdfContainer.style.display = "none";
});
</script>
</body>
</html>
